<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Weather App</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
      integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="shortcut icon" href="favicon.png" type="image/x-icon" />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        background-image: url(weather.jpg);
        background-repeat: no-repeat;
        background-position: center;
        background-attachment: fixed;
        background-size: cover;
        display: flex;
        justify-content: center;
        align-items: center;
        margin-top: 20px;
      }

      .app-container {
        background-color: rgba(34, 34, 34, 0.8);
        padding: 20px;
        border-radius: 15px;
        width: 80%;
        margin-bottom: 20px;
        margin-top: 20px;
        max-width: 600px;
        text-align: center;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.5);
        opacity: 0.8;
      }

      .app-header h1 {
        color: #ff8c00;
      }

      .app-header p {
        color: #aaa;
        margin-bottom: 20px;
      }

      .search-container {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin: 20px;
      }

      input[type="text"] {
        padding: 10px;
        font-size: 1rem;
        border-radius: 25px;
        border: none;
        flex: 1;
        background-color: #444;
        color: #fff;
        outline: none;
      }

      input[type="text"]::placeholder {
        color: #ccc;
      }

      .search-button {
        padding: 10px 20px;
        font-size: 1rem;
        color: #fff;
        background-color: #ff8c00;
        cursor: pointer;
        transition: background-color 0.3s ease;
        border-radius: 25px;
        border: none;
        margin: auto;
      }

      .current-weather {
        display: flex;
        align-items: center;
        gap: 20px;
        padding: 5px;
        background: #333;
        border-radius: 15px;
        margin-bottom: 20px;
      }

      .current-weather h1 {
        color: #ff8c00;
      }

      .current-weather {
        display: flex;
        justify-content: center;
        text-align: center;
      }

      .weather-info h2 {
        font-size: 2rem;
        color: #ff8c00;
      }
      .weather-info p {
        font-size: 1.2rem;
        margin: 5px 0;
      }

      .forcast {
        display: flex;
        grid-template-columns: repeat(4, 1fr);
        gap: 20px;
        margin-left: 20px;
      }

      .day {
        background: #333;
        padding: 15px;

        border-radius: 15px;
        text-align: center;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
      }

      .weekday {
        font-size: 1.2rem;
        font-weight: bold;
        margin-bottom: 10px;
        color: #ff8c00;
      }

      .day .icon img {
        width: 50px;
      }

      .temp {
        font-size: 1.2rem;
        font-weight: bold;
        color: #fff;
      }

      .icon i {
        margin-bottom: 20px;
      }
      /* Responsive Design */

      @media (max-width: 600px) {
        body {
          margin-top: 10px;
          align-items: flex-start;
          padding: 10px;
        }

        .app-container {
          width: 100%;
          padding: 15px;
          border-radius: 10px;
          box-shadow: none;
        }

        .search-container {
          flex-direction: column;
          gap: 10px;
          margin: 10px 0;
        }

        input[type="text"] {
          width: 100%;
          font-size: 1rem;
          padding: 10px;
        }

        .search-button {
          width: 100%;
          padding: 10px;
          font-size: 1rem;
        }

        .current-weather {
          flex-direction: column;
          gap: 10px;
          padding: 10px;
        }

        .weather-info h2 {
          font-size: 1.5rem;
        }

        .weather-info p {
          font-size: 1rem;
        }

        .forcast {
          flex-direction: column;
          gap: 15px;
          margin: 0;
          align-items: center;
        }

        .day {
          width: 100%;
          margin: 0;
          padding: 10px;
        }

        .day img {
          width: 40px;
        }

        .weekday {
          font-size: 1rem;
        }

        .temp {
          font-size: 1rem;
        }
      }
    </style>
  </head>
  <body>
    <div class="app-container">
      <header class="app-header">
        <h1>Weather Explorer</h1>
        <p>Stay updated with the latest weather condition</p>
      </header>

      <div class="search-container">
        <input
          class="search-input"
          type="text"
          id="city"
          placeholder="Enter city name..."
        />
        <button class="search-button">Search</button>
      </div>
      <div class="weather-container">
        <section class="current-weather"></section>
        <section class="forcast"></section>
      </div>
    </div>
    <script>
      const apiKey = "";
      const searchBox = document.querySelector(".search-input");
      const searchBtn = document.querySelector(".search-button");
      const icon = document.querySelector(".icon");
      let weatherApi = async (city) => {
        console.log("Fetching weather data...");
        let responce = await fetch(
          `https://api.openweathermap.org/data/2.5/weather?units=metric&q=${city}&appid=${apiKey}`
        );
        console.log("Response received:", responce);
        const data = await responce.json();
        console.log("Data in JASON are:", data);
        let condition = data.weather[0].main.toLowerCase();
        console.log("Weather Condition:", data.weather[0].description);
        let iconCode = data.weather[0].icon;
        let iconSrc = `https://openweathermap.org/img/wn/${iconCode}@2x.png`;

        if (condition === "clouds") {
          iconSrc = `https://openweathermap.org/img/wn/${iconCode}@2x.png`;
        } else if (condition === "few clouds") {
          iconSrc = `https://openweathermap.org/img/wn/${iconCode}@2x.png`;
        } else if (condition === "scattered clouds") {
          iconSrc = `https://openweathermap.org/img/wn/${iconCode}@2x.png`;
        } else if (condition === "broken clouds") {
          iconSrc = `https://openweathermap.org/img/wn/${iconCode}@2x.png`;
        } else if (condition === "clear") {
          iconSrc = `https://openweathermap.org/img/wn/${iconCode}@2x.png`;
        } else if (condition === "rain") {
          iconSrc = `https://openweathermap.org/img/wn/${iconCode}@2x.png`;
        } else if (condition === "shower rain") {
          iconSrc = `https://openweathermap.org/img/wn/${iconCode}@2x.png`;
        } else if (condition === "thunderstorm") {
          iconSrc = `https://openweathermap.org/img/wn/${iconCode}@2x.png`;
        } else if (condition === "snow") {
          iconSrc = `https://openweathermap.org/img/wn/${iconCode}@2x.png`;
        } else if (condition === "	mist") {
          iconSrc = `https://openweathermap.org/img/wn/${iconCode}@2x.png`;
        }

        const visibility = data.visibility / 1609.344;

        let mainCard = document.querySelector(".current-weather");
        let twoCard = document.querySelector(".forcast");

        let card = `<section class="current-weather">
               <div class="icon">
                 <img src="${iconSrc}" alt="sunny day" />
                 <div class="weather-info">
                   <h2 class="city">${data.name}</h2>
                   <p class="temp">Temperature: ${Math.round(
                     data.main.temp
                   )}° C</p>
                   <p class="temp" style='color:darkGrey'>Weather Condition: ${data.weather[0].description.toUpperCase()}</p>
                 </div>
               </div>
               </section>`;
        mainCard.innerHTML = card;

        let shortCard = `<div class="day">
            <p class="weekday">Wind Speed</p>
            <div class="icon">
              <i class="fas fa-wind fa-4x" style="color:darkgray" ></i>
            </div>
              <p class="temp">${data.wind.speed}km/h</p>
          </div>
          <div class="day">
            <p class="weekday">Feel Like</p>
            <div class="icon">
              <i class="fas fa-thermometer-half fa-4x" style="color:rgba(255, 251, 0, 0.95);"></i>
            </div>
            <p class="temp">${Math.round(data.main.feels_like)}° C</p>
          </div>
          <div class="day">
            <p class="weekday">Humidity</p>
            <div class="icon">
              <i class="fas fa-tint fa-4x" style="color: rgb(28, 170, 218); margin-top:15px"></i>
            </div>
            <p class="temp">${data.main.humidity}%</p>
          </div>
          <div class="day">
            <p class="weekday">Visibility</p>
            <div class="icon">
                <i class="fa-solid fa-eye fa-4x" style="color: white;"></i>
                </div>
                <p class="temp">${visibility.toFixed(1)}  Statute Miles</p>
                </div>`;
        twoCard.innerHTML = shortCard;
      };
      
      searchBtn.addEventListener("click", () => {
        const city = searchBox.value.trim();
        if (city) {
          weatherApi(city);
          searchBox.value = "";
        } else {
          alert("Please enter a city name.");
        }
      });
      searchBox.addEventListener("keydown", (e) => {
          if (e.key === "Enter") {
              searchBtn.click();
            }
        });
        
        weatherApi("berlin");


      
    </script>
  </body>

</html>
